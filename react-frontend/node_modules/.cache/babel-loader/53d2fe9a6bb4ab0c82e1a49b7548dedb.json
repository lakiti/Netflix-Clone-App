{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/spring_boy/CloneNetflixByShakkib/react-frontend/src/components/Login.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState } from \"react\";\nimport \"../styles/Login.css\";\nimport { Redirect } from \"react-router-dom\";\nimport UserApiService from \"../apis/UserApiService\";\n\nfunction Login({\n  authenticated,\n  location\n}) {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassWord] = useState(\"\");\n\n  const handleLoginOk = async () => {\n    console.log(email);\n    console.log(passWord);\n\n    if (email === \"\") {\n      alert(\"Enter your email!\");\n      return;\n    } else if (passWord === \"\") {\n      alert(\"Please enter a password!\");\n      return;\n    } //Create user object\n\n\n    let user = {\n      email: email,\n      passWord: passWord\n    }; //login method\n\n    login(user);\n  }; //Implement the login method\n\n\n  const login = user => {\n    console.log(\"User information entered\", user);\n    UserApiService.loginOk(user).then(res => {\n      // console.log(res.data);\n      let userid = res.data; //Delete existing values ​​if they exist\n\n      sessionStorage.removeItem(\"user\"); // console.log(res.data);\n      //Save only userid value in user information! No need for the rest!\n\n      sessionStorage.setItem(\"user\", userid);\n      alert(\"login succeed\"); //Send to home path when login is successful\n\n      window.location.href = \"http://localhost:3000\";\n    }).catch(err => {\n      console.error(\"UserApiService.loginOk error :\", err);\n      alert(\"Email or password does not match. \\nPlease enter it again!\");\n      setEmail(\"\");\n      setPassWord(\"\");\n    });\n  };\n\n  const {\n    from\n  } = location.state || {\n    from: {\n      pathname: \"/\"\n    }\n  };\n  if (authenticated) return /*#__PURE__*/_jsxDEV(Redirect, {\n    to: from\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 29\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"outer\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"inner\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: \"white\"\n        },\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          className: \"form-control\",\n          placeholder: \"Email Address\",\n          name: \"email\",\n          id: \"email\",\n          value: email,\n          onChange: ({\n            target: {\n              value\n            }\n          }) => setEmail(value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"passWord\",\n          className: \"form-control\",\n          placeholder: \"passWord\",\n          name: \"passWord\",\n          id: \"password\",\n          value: password,\n          onChange: ({\n            target: {\n              value\n            }\n          }) => setPassWord(value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-lg btn-block\",\n        style: {\n          backgroundColor: \"red\",\n          color: \"white\"\n        },\n        onClick: handleLoginOk,\n        children: \"LOGIN\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"forgot-password text-right\",\n        children: [\"Forgot \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          children: \"password?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 18\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: 150\n        },\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"https://www.facebook.com/v2.11/dialog/oauth?client_id=770894283636482&redirect_uri=http://localhost:8090/user/auth/facebook\",\n          style: {\n            color: \"#646564\"\n          },\n          children: \"log in with facebook\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"col-sm-6\",\n          style: {\n            fontSize: 13,\n            color: \"gray\"\n          },\n          children: \"Netflix Not a member?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"col-sm-6\",\n          style: {\n            fontWeight: \"bold\",\n            marginBottom: 100\n          },\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/join\",\n            style: {\n              color: \"white\"\n            },\n            children: \"Sign up now\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"dNqcno/tQ14LyI8mTbhhXKSkmSA=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/spring_boy/CloneNetflixByShakkib/react-frontend/src/components/Login.js"],"names":["React","useState","Redirect","UserApiService","Login","authenticated","location","email","setEmail","password","setPassWord","handleLoginOk","console","log","passWord","alert","user","login","loginOk","then","res","userid","data","sessionStorage","removeItem","setItem","window","href","catch","err","error","from","state","pathname","color","target","value","backgroundColor","marginTop","fontSize","fontWeight","marginBottom"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState } from \"react\";\nimport \"../styles/Login.css\";\nimport { Redirect } from \"react-router-dom\";\nimport UserApiService from \"../apis/UserApiService\";\n\nfunction Login({ authenticated, location }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassWord] = useState(\"\");\n\n  const handleLoginOk = async () => {\n    console.log(email);\n    console.log(passWord);\n    if (email === \"\") {\n      alert(\"Enter your email!\");\n      return;\n    } else if (passWord === \"\") {\n      alert(\"Please enter a password!\");\n      return;\n    }\n    //Create user object\n    let user = {\n      email: email,\n      passWord: passWord,\n    };\n    //login method\n    login(user);\n  };\n\n  //Implement the login method\n  const login = (user) => {\n    console.log(\"User information entered\", user);\n    UserApiService.loginOk(user)\n      .then((res) => {\n        // console.log(res.data);\n        let userid = res.data;\n        //Delete existing values ​​if they exist\n        sessionStorage.removeItem(\"user\");\n        // console.log(res.data);\n        //Save only userid value in user information! No need for the rest!\n        sessionStorage.setItem(\"user\", userid);\n        alert(\"login succeed\");\n        //Send to home path when login is successful\n        window.location.href = \"http://localhost:3000\";\n      })\n      .catch((err) => {\n        console.error(\"UserApiService.loginOk error :\", err);\n        alert(\"Email or password does not match. \\nPlease enter it again!\");\n        setEmail(\"\");\n        setPassWord(\"\");\n      });\n  };\n\n  const { from } = location.state || { from: { pathname: \"/\" } };\n  if (authenticated) return <Redirect to={from} />;\n\n  return (\n    <div className=\"outer\">\n      <div className=\"inner\">\n        <h3 style={{ color: \"white\" }}>로그인</h3>\n        <div className=\"form-group\">\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            placeholder=\"Email Address\"\n            name=\"email\"\n            id=\"email\"\n            value={email}\n            onChange={({ target: { value } }) => setEmail(value)}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <input\n            type=\"passWord\"\n            className=\"form-control\"\n            placeholder=\"passWord\"\n            name=\"passWord\"\n            id=\"password\"\n            value={password}\n            onChange={({ target: { value } }) => setPassWord(value)}\n          />\n        </div>\n        <button\n          type=\"submit\"\n          className=\"btn btn-lg btn-block\"\n          style={{ backgroundColor: \"red\", color: \"white\" }}\n          onClick={handleLoginOk}\n        >\n          LOGIN\n        </button>\n        <p className=\"forgot-password text-right\">\n          Forgot <a href=\"#\">password?</a>\n        </p>\n        <p style={{ marginTop: 150 }}>\n          {/* Facebook login request address! */}\n          <a\n            href=\"https://www.facebook.com/v2.11/dialog/oauth?client_id=770894283636482&redirect_uri=http://localhost:8090/user/auth/facebook\"\n            style={{ color: \"#646564\" }}\n          >\n            log in with facebook\n          </a>\n        </p>\n        <div className=\"row\">\n          <p className=\"col-sm-6\" style={{ fontSize: 13, color: \"gray\" }}>\n            Netflix Not a member?\n          </p>\n          <h5\n            className=\"col-sm-6\"\n            style={{ fontWeight: \"bold\", marginBottom: 100 }}\n          >\n            <a href=\"/join\" style={{ color: \"white\" }}>\n            Sign up now\n            </a>\n          </h5>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}